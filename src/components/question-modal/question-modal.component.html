
<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border-4 border-amber-300 text-center relative">
    
    @if (feedback() === 'correct') {
      <div class="absolute inset-0 bg-green-400/90 rounded-xl flex items-center justify-center">
        <span class="text-5xl font-bold text-white animate-ping">{{ translationService.t('correct')() }}</span>
        <span class="text-5xl font-bold text-white absolute">{{ translationService.t('correct')() }}</span>
      </div>
    }
    @if (feedback() === 'wrong') {
      <div class="absolute inset-0 bg-red-400/90 rounded-xl flex items-center justify-center animate-shake">
        <span class="text-5xl font-bold text-white">{{ translationService.t('wrong')() }}</span>
      </div>
    }

    <h2 class="text-2xl font-bold text-amber-700 mb-2">{{ title() }}</h2>
    <p class="text-xl text-amber-900 mb-6">{{ question().question }}</p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      @for (option of question().options; track option) {
        <button 
          (click)="selectAnswer(option)"
          [class]="'p-4 rounded-lg text-lg font-semibold border-2 transition-transform transform hover:scale-105 ' + (selectedAnswer() === option ? 'bg-yellow-400 border-yellow-600 text-white' : 'bg-yellow-100 border-yellow-200 text-yellow-800 hover:bg-yellow-200')">
          {{ option }}
        </button>
      }
    </div>

    <button (click)="submit()" 
            [disabled]="!selectedAnswer() || !!feedback()"
            class="w-full bg-green-500 hover:bg-green-600 text-white font-bold text-xl py-3 px-4 rounded-lg shadow-md transition-opacity disabled:opacity-50 disabled:cursor-not-allowed">
      {{ translationService.t('submitAnswer')() }}
    </button>
  </div>
</div>

<style>
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
    20%, 40%, 60%, 80% { transform: translateX(10px); }
  }
  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }
</style>
